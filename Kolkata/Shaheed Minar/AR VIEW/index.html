<!DOCTYPE html>
<html>
<head>
<title>Project Title</title>
<meta charset="utf-8">
<meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui" />
<style> @-ms-viewport { width: device-width; } </style>
<link rel="stylesheet" href="vendor/reset.min.css">
<link rel="stylesheet" href="style.css">
</head>
<body class="multiple-scenes view-control-buttons">

<div id="pano"></div>

<div id="sceneList">
  <ul class="scenes">
    
      <a href="javascript:void(0)" class="scene" data-id="0-1st">
        <li class="text">1st</li>
      </a>
    
      <a href="javascript:void(0)" class="scene" data-id="1-2nd">
        <li class="text">2nd</li>
      </a>
    
      <a href="javascript:void(0)" class="scene" data-id="2-left">
        <li class="text">Left</li>
      </a>
    
      <a href="javascript:void(0)" class="scene" data-id="3-right">
        <li class="text">Right</li>
      </a>
    
  </ul>
</div>

<div id="titleBar">
  <h1 class="sceneName"></h1>
</div>

<a href="javascript:void(0)" id="autorotateToggle">
  <img class="icon off" src="img/play.png">
  <img class="icon on" src="img/pause.png">
</a>

<a href="javascript:void(0)" id="fullscreenToggle">
  <img class="icon off" src="img/fullscreen.png">
  <img class="icon on" src="img/windowed.png">
</a>

<a href="javascript:void(0)" id="sceneListToggle">
  <img class="icon off" src="img/expand.png">
  <img class="icon on" src="img/collapse.png">
</a>

<a href="javascript:void(0)" id="viewUp" class="viewControlButton viewControlButton-1">
  <img class="icon" src="img/up.png">
</a>
<a href="javascript:void(0)" id="viewDown" class="viewControlButton viewControlButton-2">
  <img class="icon" src="img/down.png">
</a>
<a href="javascript:void(0)" id="viewLeft" class="viewControlButton viewControlButton-3">
  <img class="icon" src="img/left.png">
</a>
<a href="javascript:void(0)" id="viewRight" class="viewControlButton viewControlButton-4">
  <img class="icon" src="img/right.png">
</a>
<a href="javascript:void(0)" id="viewIn" class="viewControlButton viewControlButton-5">
  <img class="icon" src="img/plus.png">
</a>
<a href="javascript:void(0)" id="viewOut" class="viewControlButton viewControlButton-6">
  <img class="icon" src="img/minus.png">
</a>


<a href="../Shaheed.html" class="back-button">← Back to Sites</a>

<div class="more-options-container">
  <div id="more-options-panel" class="more-options-panel">
      <a href="#">About this Place</a>
      <a href="#">Videos</a>
      <a href="Shop/Shop.html">Shop</a>
  </div>
  <button id="more-options-btn" class="more-options-btn">
      More Options ▲ 
  </button>
</div>


    <!-- CHATBOT HTML -->
    <div class="chatbot-container">
      <div id="chat-window" class="chat-window">
          <div class="chat-header">Virtual Guide</div>
          <div id="chat-body" class="chat-body">
              <div class="chat-message bot">Welcome! How can I help you explore this place today?</div>
          </div>
          <div class="chat-footer">
              <input type="text" id="chat-input" placeholder="Ask a question...">
              <button id="chat-send-btn">
                  <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
              </button>
          </div>
      </div>
      <div id="chat-bubble" class="chat-bubble">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg>
      </div>
  </div>

<script src="vendor/screenfull.min.js" ></script>
<script src="vendor/bowser.min.js" ></script>
<script src="vendor/marzipano.js" ></script>

<script src="data.js"></script>
<script src="index.js"></script>
<script>

document.addEventListener('DOMContentLoaded', () => {
  // --- CHATBOT LOGIC ---
  const chatBubble = document.getElementById("chat-bubble"),
               chatWindow = document.getElementById("chat-window"),
               chatBody = document.getElementById("chat-body"),
               chatInput = document.getElementById("chat-input"),
               chatSendBtn = document.getElementById("chat-send-btn");
           function addMessage(e, t) {
               const n = document.createElement("div");
               n.classList.add("chat-message", t), n.textContent = e, chatBody.appendChild(n), chatBody.scrollTop = chatBody.scrollHeight
           }
           function getBotResponse(e) {
               const t = e.toLowerCase().trim();
               return t.includes("hello") || t.includes("hi") ? "Hello there! Welcome to this virtual tour. Ask me anything about this location." : t.includes("what is this") || t.includes("about") ? "This is a virtual odyssey through Bharat, showcasing its rich heritage and culture in an immersive way. This specific location is a demonstration area." : t.includes("feature") || t.includes("do") ? "You can look around in 360 degrees, click on hotspots to navigate, and use the menu to explore different locations. You can also ask me for information!" : t.includes("bye") || t.includes("thanks") ? "You're welcome! Enjoy the rest of your tour." : "I'm sorry, I'm still learning. I can currently provide information about this tour's features and purpose. Try asking 'What is this place?'"
           }
           function sendMessage() {
               const e = chatInput.value;
               "" !== e.trim() && (addMessage(e, "user"), chatInput.value = "", setTimeout(() => {
                   const e = getBotResponse(e);
                   addMessage(e, "bot")
               }, 500))
           }
           chatBubble.addEventListener("click", () => { chatWindow.classList.toggle("open") }), chatSendBtn.addEventListener("click", sendMessage), chatInput.addEventListener("keypress", function(e) { "Enter" === e.key && sendMessage() });
       });

 
       const moreOptionsBtn = document.getElementById('more-options-btn');
       const moreOptionsPanel = document.getElementById('more-options-panel');
       moreOptionsBtn.addEventListener('click', () => {
           const isOpen = moreOptionsPanel.classList.toggle('open');
           moreOptionsBtn.innerHTML = isOpen ? 'More Options &#9660;' : 'More Options &#9650;';
       });

</script>

</body>
</html>
